<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NutriGaze</title>

<style>
body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
}

/* NAVBAR */
nav {
    background: rgba(0,0,0,0.8);
    color: white;
    display: flex;
    justify-content: space-between;
    padding: 15px 50px;
    align-items: center;
    position: fixed;
    width: 100%;
    z-index: 1000;
}

nav ul {
    list-style: none;
    display: flex;
    gap: 30px;
}

nav ul li a {
    color: white;
    text-decoration: none;
    cursor: pointer;
}

/* COMMON PAGE STYLE */
.page {
    display: none;
    min-height: 100vh;
    padding-top: 120px;
    text-align: center;
    color: white;
    background-size: cover;
    background-position: center;
}

.active {
    display: block;
}

/* BACKGROUNDS */
#home {
    background-image: url("https://images.unsplash.com/photo-1610832958506-aa56368176cf");
}

#about {
    background-image: url("https://images.unsplash.com/photo-1506806732259-39c2d0268443");
}

#predict {
    background-image: url("https://images.unsplash.com/photo-1576045057995-568f588f82fb");
}

#result {
    background-image: url("https://images.unsplash.com/photo-1508747703725-719777637510");
}

/* BUTTON */
.btn {
    padding: 12px 25px;
    border-radius: 25px;
    border: none;
    background: #27ae60;
    color: white;
    cursor: pointer;
    margin-top: 20px;
}

/* RESULT CARD */
.result-card {
    width: 400px;
    margin: 40px auto;
    background: rgba(0,0,0,0.7);
    padding: 30px;
    border-radius: 10px;
}

.result-text {
    font-size: 20px;
    font-weight: bold;
    color: #2ecc71;
}
</style>
</head>

<body>

<nav>
    <h2>NUTRIGAZE</h2>
    <ul>
        <li><a onclick="showPage('home')">Home</a></li>
        <li><a onclick="showPage('about')">About</a></li>
        <li><a onclick="showPage('predict')">Predict</a></li>
    </ul>
</nav>

<!-- HOME -->
<div id="home" class="page active">
    <h1>GREENGUARD INSIGHTS</h1>
    <p>Ensuring your produce is always fresh and healthy.</p>
    <button class="btn" onclick="showPage('predict')">Get Started</button>
</div>

<!-- ABOUT -->
<div id="about" class="page">
    <h1>Learn More About Us</h1>
    <p>
        NutriGaze enhances the quality and safety of fruits and vegetables
        using advanced AI detection technology.
    </p>
</div>

<!-- PREDICT -->
<div id="predict" class="page">
    <h1>Image Classification</h1>
    <input type="file" id="imageInput" accept="image/*">
    <br><br>
    <button class="btn" onclick="predictImage()">Predict</button>
</div>

<!-- RESULT -->
<div id="result" class="page">
    <h1>FreshEye Detection</h1>
    <div class="result-card">
        <h3>Result of fruits and vegetables</h3>
        <hr>
        <p id="resultText" class="result-text"></p>
    </div>
    <button class="btn" onclick="showPage('predict')">Try Another Image</button>
</div>

<script>
function showPage(pageId) {
    const pages = document.querySelectorAll('.page');
    pages.forEach(page => page.classList.remove('active'));
    document.getElementById(pageId).classList.add('active');
}

function predictImage() {
    const fileInput = document.getElementById("imageInput");

    if (fileInput.files.length === 0) {
        alert("Please select an image first.");
        return;
    }

    const file = fileInput.files[0];
    const formData = new FormData();
    formData.append("image", file);

    fetch("/predict", {
        method: "POST",
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        document.getElementById("resultText").innerText = data.result;
        showPage('result');
    })
    .catch(error => {
        console.error("Error:", error);
        alert("Prediction failed. Check backend.");
    });
}
</script>

</body>
</html>